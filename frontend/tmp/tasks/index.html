<style type="text/css">
    .cross_gray {
        text-decoration: line-through;
        color: gray;
    }
</style>
{% if lista %}
<ul>
    {% for task in lista %}
    <div style="display: inline;">
    <li><form action="task_actions/" method="post">
        {% csrf_token %}
        <input type="hidden" name="task_id" value="{{ task.id }}" />
        <input type="submit" name="delete_task" value="X" title="usuń (wraz z podpunktami)" />
    {% if task.is_open %}
        <input type="submit" name="cross_out_task" value="-" title="skreśl (wraz z podpunktami)" />
        <span >{{ task.id }}: {{ task }}</span>
        <input type="text" name="new_subtask_name" placeholder="dodaj podpunkt" maxlength="255" size="50" />
        <input type="submit" name="add_subtask" value="+" />
    {% else %}
        <input type="submit" name="revive_task" value="^" title="odkreśl" />
        <span class="cross_gray">{{ task.id }}: {{ task }}</span>
    {% endif %}
    </form></li>
    </div>
        {% for subtask in task.subtask_set.all %}
        <form action="subtask_actions/" method="post" style="margin-left: 50px;" >
            {% csrf_token %}
            <input type="hidden" name="subtask_id" value="{{ subtask.id }}" />
            <input type="submit" name="delete_subtask" value="x" title="usuń" />
        {% if subtask.is_open %}
            <input type="submit" name="cross_out_subtask" value="-" title="skreśl" />
            <span>{{ subtask }}</span>
        {% else %}
            <input type="submit" name="revive_subtask" value="^" title="odkreśl" />
            <span class="cross_gray">{{ subtask }}</span>
        {% endif %}
        </form>
        {% endfor %}
    {% endfor %}
</ul>
{% else %}
<p>Nie ma zadań</p>
{% endif %}

<hr />

<form action="add_task/" method="post">
    {% csrf_token %}
    <input type="text" name="new_task_name" maxlength="255" placeholder="nazwa zadania" size="60" />
    <input type="submit" value="Dodaj zadanie" />
</form>
